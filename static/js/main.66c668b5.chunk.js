(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},22:function(e,t,n){e.exports=n(38)},27:function(e,t,n){},32:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(13),c=n.n(o),l=(n(27),n(7)),u=n(10),i=n(20),s=n(1),h={result:null,isLoading:!0},p={result:[],isLoading:!1},d={result:[],notFound:!1,isLoading:!1},f=Object(u.c)({selectReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ALBUMS":return Object(s.a)({},e,{result:t.payload});case"DATA_IS_LOADING":return Object(s.a)({},e,{isLoading:t.payload});default:return e}},photoReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PHOTOS":return Object(s.a)({},e,{result:t.payload});case"DATA_PHOTOS_IS_LOADING":return Object(s.a)({},e,{isLoading:t.payload});default:return e}},photosSearchReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_PHOTOS_SUCCESS":return Object(s.a)({},e,{result:t.payload});case"SEARCH_PHOTOS_FAIL":return Object(s.a)({},e,{notFound:t.payload});case"SEARCH_PHOTOS_IS_LOADING":return Object(s.a)({},e,{isLoading:t.payload});default:return e}}}),m=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,O=Object(u.e)(f,m(Object(u.a)(i.a))),b=n(21),v=n.n(b),g=n(4),y=n(5),E=n(8),S=n(6),_=n(9),j=(n(32),function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(E.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){(0,n.props.fetchDataPhotos)(e.target.value)},n}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.albums,n=e.loader;return a.createElement("div",{className:"album-select"},a.createElement("h1",null,"Albums"),a.createElement("select",{onChange:this.handleChange},a.createElement("option",null,"Albums"),t?t.map(function(e){return a.createElement("option",{value:e.id,key:e.id},"$",e.title)}):a.createElement("option",null,"Soething went wrong")),n?a.createElement("span",{style:{color:"white",display:"block"}},"Loading..."):null)}}]),t}(a.Component)),A=n(3),L=n.n(A),w=n(12),C=function(e){return{type:"FETCH_ALBUMS",payload:e}},P=function(e){return{type:"DATA_PHOTOS_IS_LOADING",payload:e}},H=function(e){return{type:"FETCH_PHOTOS",payload:e}},N=(n(34),function(e){function t(){return Object(g.a)(this,t),Object(E.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"componentWillMount",value:function(){(0,this.props.fetchDataAlbums)()}},{key:"render",value:function(){var e=this.props,t=e.albums,n=e.isLoading,r=e.fetchDataPhotos;return a.createElement("div",{className:"request-panel container"},a.createElement(j,{albums:t,loader:n,fetchDataPhotos:r}),a.createElement(U,null))}}]),t}(a.Component)),R=Object(l.b)(function(e){return{albums:e.selectReducer.result,isLoading:e.selectReducer.isLoading,photos:e.photoReducer.result,isPhotosLoading:e.photoReducer.isLoading}},function(e){return{fetchDataAlbums:function(){e(function(){var e=Object(w.a)(L.a.mark(function e(t){var n;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://jsonplaceholder.typicode.com/albums").then(function(e){return e.json()});case 3:n=e.sent,t(C(n)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:return e.prev=10,t({type:"DATA_IS_LOADING",payload:!1}),e.finish(10);case 13:case"end":return e.stop()}},e,null,[[0,7,10,13]])}));return function(t){return e.apply(this,arguments)}}())},fetchDataPhotos:function(t){e(function(e){return function(){var t=Object(w.a)(L.a.mark(function t(n){var a;return L.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(P(!0)),t.prev=1,t.next=4,fetch("https://jsonplaceholder.typicode.com/photos?albumId=".concat(e)).then(function(e){return e.json()});case 4:a=t.sent,n(H(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:return t.prev=11,n(P(!1)),t.finish(11);case 14:case"end":return t.stop()}},t,null,[[1,8,11,14]])}));return function(e){return t.apply(this,arguments)}}()}(t))}}})(N),T=(n(35),function(e){function t(){return Object(g.a)(this,t),Object(E.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.photos,n=e.isLoading,r=e.searchPhotos,o=e.isSearchPhotosLoading,c=e.searchPhotosNotFound;return a.createElement("div",{className:"container result-panel__container"},n?a.createElement("div",{className:"loader"}):null,o?a.createElement("div",{className:"loader"}):null,!t.length||r.length||c?null:t.map(function(e){return a.createElement("div",{className:"result-panel__card",key:e.id},a.createElement("picture",null,a.createElement("img",{src:e.thumbnailUrl,alt:e.title})),a.createElement("p",null,e.title))}),r.length&&!c?r.map(function(e){return a.createElement("div",{className:"result-panel__card",key:e.id},a.createElement("picture",null,a.createElement("img",{src:e.thumbnailUrl,alt:e.title})),a.createElement("p",null,e.title))}):null,c?a.createElement("div",null,"Not found..."):null)}}]),t}(a.Component)),k=Object(l.b)(function(e){return{photos:e.photoReducer.result,isLoading:e.photoReducer.isLoading,searchPhotos:e.photosSearchReducer.result,searchPhotosNotFound:e.photosSearchReducer.notFound,isSearchPhotosLoading:e.photosSearchReducer.isLoading}},null)(T),D=(n(36),function(e){return{type:"SEARCH_PHOTOS_IS_LOADING",payload:e}}),I=function(e){return{type:"SEARCH_PHOTOS_SUCCESS",payload:e}},F=function(e){return{type:"SEARCH_PHOTOS_FAIL",payload:e}},x=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(E.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){var t=n.props,a=t.photos,r=t.photosFilter,o=e.target.value;o.length>=3?r(a,o):o.length<3&&r([],null)},n}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props.photos;return a.createElement("div",{className:"photos-search"},a.createElement("h1",null,"Search"),a.createElement("input",{type:"text",placeholder:e.length?"Search by title":"Select album to enable search",disabled:!e.length,onChange:this.handleChange}))}}]),t}(a.Component),U=Object(l.b)(function(e){return{photos:e.photoReducer.result}},function(e){return{photosFilter:function(t,n){e(function(e,t){return function(){var n=Object(w.a)(L.a.mark(function n(a){var r;return L.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a(D(!0)),n.prev=1,n.next=4,e.filter(function(e){return e.title.includes(t)});case 4:r=n.sent,null!==t&&0===r.length?a(F(!0)):(a(F(!1)),a(I(r))),a(I(r)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),console.log(n.t0);case 12:return n.prev=12,a(D(!1)),n.finish(12);case 15:case"end":return n.stop()}},n,null,[[1,9,12,15]])}));return function(e){return n.apply(this,arguments)}}()}(t,n))}}})(x);n(37);var G=function(){return r.a.createElement(l.a,{store:O},r.a.createElement("img",{src:v.a,className:"App-logo",alt:"logo"}),r.a.createElement(R,null),r.a.createElement(k,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[22,1,2]]]);
//# sourceMappingURL=main.66c668b5.chunk.js.map